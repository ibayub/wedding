(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(578)}])},578:function(e,s,t){"use strict";t.r(s),t.d(s,{ForwardedInput:function(){return g},default:function(){return N}});var l=t(5893),n=t(7294);let a=e=>{let{children:s,...t}=e;return(0,l.jsx)("button",{...t,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:s})},r=e=>(0,l.jsx)("input",{...e,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),c=e=>{let{children:s,...t}=e;return(0,l.jsx)("label",{...t,className:"block text-gray-700 text-sm font-bold mb-2",children:s})},i=e=>{let{children:s,className:t,...n}=e;return(0,l.jsx)("div",{className:"rounded overflow-hidden shadow-lg bg-white p-6 ".concat(t),...n,children:s})},d=e=>{let{children:s,className:t,...n}=e;return(0,l.jsx)("div",{className:"font-bold text-xl mb-4 ".concat(t),...n,children:s})},o=e=>{let{children:s,className:t,...n}=e;return(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4 ".concat(t),...n,children:s})},u=e=>{let{children:s,className:t,...n}=e;return(0,l.jsx)("div",{className:"text-gray-700 text-base ".concat(t),...n,children:s})},m=e=>{let{children:s,className:t,...n}=e;return(0,l.jsx)("div",{className:"mt-4 ".concat(t),...n,children:s})},h=()=>(0,l.jsx)("hr",{className:"my-4 border-gray-300"}),x=e=>{let{isOpen:s,onClose:t,children:n}=e;return s&&(0,l.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[(0,l.jsx)("div",{className:"fixed inset-0 bg-black opacity-50",onClick:t}),(0,l.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-lg z-10",children:n})]})},b=e=>{let{children:s,className:t,...n}=e;return(0,l.jsx)("div",{className:"text-lg font-bold mb-4 ".concat(t),...n,children:s})},f=e=>{let{children:s,className:t,...n}=e;return(0,l.jsx)("h3",{className:"text-2xl font-bold mb-4 ".concat(t),...n,children:s})},j=e=>{let{children:s,className:t,...n}=e;return(0,l.jsx)("div",{className:"text-base mb-4 ".concat(t),...n,children:s})},p=e=>{let{children:s,className:t,...n}=e;return(0,l.jsx)("p",{className:"text-gray-600 mb-4 ".concat(t),...n,children:s})},g=(0,n.forwardRef)((e,s)=>(0,l.jsx)("input",{ref:s,...e,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}));function N(){let[e,s]=(0,n.useState)(""),[t,N]=(0,n.useState)(null),[y,w]=(0,n.useState)([]),[v,S]=(0,n.useState)(!1),[_,k]=(0,n.useState)(!1),[C,P]=(0,n.useState)(null),F=(0,n.useRef)(null),T=(0,n.useCallback)(async s=>{if(s.preventDefault(),""===e.trim()){N(null);return}k(!0),P(null);try{let s=await fetch("/api/getTableNumber?name=".concat(encodeURIComponent(e))),t=await s.json();s.ok?N(t.tableNumber):P(t.message||"An error occurred while fetching your table number.")}catch(e){P("An error occurred while fetching your table number. Please try again.")}finally{k(!1)}},[e]);return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4",children:[(0,l.jsxs)(i,{className:"w-full max-w-md",children:[(0,l.jsx)(d,{children:(0,l.jsx)(o,{className:"text-2xl font-bold text-center",children:"Neishay & Hussain Wedding"})}),(0,l.jsxs)(u,{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4 text-center",children:"Find my Table"}),(0,l.jsxs)("form",{onSubmit:T,className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(c,{htmlFor:"name",children:"Your Name"}),(0,l.jsx)(r,{id:"name",type:"text",placeholder:"Enter your name",value:e,onChange:e=>{s(e.target.value),N(null),P(null)},disabled:_})]}),(0,l.jsx)(a,{type:"submit",className:"w-full",disabled:_,children:_?"Finding Table...":"Find Table"})]})]}),t&&(0,l.jsxs)("div",{className:"text-center p-4 bg-green-100 rounded-md",children:[(0,l.jsxs)("p",{className:"font-semibold",children:["Welcome, ",e,"!"]}),(0,l.jsxs)("p",{className:"text-sm text-gray-700",children:["Your table number is: ",t]})]}),C&&(0,l.jsx)("div",{className:"text-center p-4 bg-red-100 rounded-md",children:(0,l.jsx)("p",{className:"text-sm text-red-700",children:C})}),(0,l.jsx)(h,{}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4 text-center",children:"Share your Photos!"}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),S(!0),w([]),F.current&&(F.current.value="")},className:"space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)(c,{htmlFor:"photos",children:"Upload Photos"}),(0,l.jsx)(g,{id:"photos",type:"file",accept:"image/*",multiple:!0,onChange:e=>{e.target.files&&w(Array.from(e.target.files))},ref:F,required:!0})]}),y.length>0&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Photo Preview"}),(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2",children:y.map((e,s)=>(0,l.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview ".concat(s+1),className:"w-full h-24 object-cover rounded"},s))})]}),(0,l.jsx)(a,{type:"submit",className:"w-full",disabled:0===y.length,children:"Submit Photos"})]})]})]}),(0,l.jsx)(m,{className:"text-center text-sm text-gray-500",children:"Share your wedding memories"})]}),(0,l.jsx)(x,{isOpen:v,onClose:()=>S(!1),children:(0,l.jsxs)(j,{children:[(0,l.jsxs)(b,{children:[(0,l.jsx)(f,{children:"Photos Uploaded Successfully"}),(0,l.jsx)(p,{children:"Your photos have been uploaded. Thank you for sharing your wedding memories!"})]}),(0,l.jsx)(a,{onClick:()=>S(!1),children:"Close"})]})})]})}g.displayName="ForwardedInput"}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);